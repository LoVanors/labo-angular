<main>
  <button (click)="filterForm()" ><i class="pi pi-filter search"></i></button>
  <div class="card-container">
    <div >
      <div *ngIf="filterByFormActive">
        <form class="card" [formGroup]="filterByForm" (ngSubmit)="findByFilter()">
          <div class="flex">
          <div>
            <input class="input" type="text" placeholder="Nom" formControlName="name">
          </div>
          <div>
            <select class="input" formControlName="categories">
              <option value="" hidden>Catégories</option>
              <option value="JUNIOR">Junior</option>
              <option value="SENIOR">Senior</option>
              <option value="VETERAN">Veteran</option>
            </select>
          </div>
          </div>
          <div class="flex">
          <div>
            <select class="input" formArrayName="status">
              <option value="" hidden>Statuts</option>
              <option value="WAITINGFORPLAYER">WaitingForPlayers</option>
              <option value="INPROGRESS">InProgress</option>
              <option value="CLOSED">Closed</option>
            </select>
          </div>
          <div class="flex">
            <p>Réservé aux filles</p>
            <input type="checkbox" formControlName="womenOnly">
          </div>
          </div>
          <div class="flex">
          <div>
            <input type="button" class="button" value="Reset">
          </div>
          <div>
            <input type="submit" class="button" value="Rechercher">
          </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div>
    <table *ngIf="tournamentsList$ | async">
      <thead>
      <tr>
        <td>Nom</td>
        <td>Lieu</td>
        <td>Participants</td>
        <td>Elo</td>
        <td>Catégorie(s)</td>
        <td>Féminin</td>
        <td>Fin des inscriptions</td>
        <td>Compte</td>
        <td>Inscriptions</td>
        <td>Inscrit</td>
        <td>Statut</td>
        <td>Manche actuelle</td>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let tournament of tournaments ">
        <td>{{tournament.name}}</td>
        <td>{{tournament.location}}</td>
        <td>{{tournament.minPlayers}} / {{tournament.maxPlayers}}</td>
        <td>{{tournament.eloMin}} / {{tournament.eloMax}}</td>
        <td>{{tournament.categories}}</td>
        <td>{{tournament.womenOnly}}</td>
        <td>{{tournament.endOfRegistrationDate | date:'dd/MM/yy'}}</td>
        <td>{{tournament.count}}</td>
        <td>{{tournament.canRegister ? 'ouvertes' : 'fermées'}}</td>
        <td>{{tournament.isRegistered ? 'inscrit' : 'pas inscrit'}}</td>
        <td>{{tournament.status}}</td>
        <td>{{tournament.currentRound}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</main>
